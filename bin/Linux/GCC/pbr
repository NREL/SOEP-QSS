#!/bin/bash
# GCC C++ Build Release

if [ -f $1.cc ]; then
  CxxSource=$1.cc
  OutputSpec="-o $1.so"
  shift
fi

g++ -pipe -std=c++20 -pedantic -march=native -shared -fPIC -Wall -Wextra -Wno-unknown-pragmas $(python -m pybind11 --includes) -DNDEBUG -O3 -fno-stack-protector -finline-limit=2000 -s $CxxSource $@ $OutputSpec
